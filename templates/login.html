<!DOCTYPE html>
<html lang="en">
<head>
    
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{{ url_for('static', path='styles.css') }}">

	<title>yolo</title>

    <!-- 추가된 부분: JavaScript 코드 -->
    <script>
        async function loginUser() {
            // HTML 폼에서 입력한 값 가져오기
            const id = document.getElementById('id').value;
            const password = document.getElementById('password').value;

            // 서버로 로그인 요청 보내기
            const response = await fetch('/userlogin', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `id=${id}&pwd=${password}`,
            });

            if (response.ok) {
                // 로그인 성공 시 알림창 띄우기
                alert('로그인에 성공했습니다.');
                window.location.href = "/Info";
            } else {
                // 로그인 실패 시 알림창 띄우기
                alert('로그인에 실패했습니다. 다시 확인해주세요.');
            }
        }
    </script>

</head>
<body>

	<div class="container">
        <div class="card">
            <!--상단타이틀-->
            <div class="card-header">
                <h1>Auth Login</h1>
            </div>
            <div class="card-body">
                <!-- 추가된 부분: JavaScript 함수 호출 -->
                <form onsubmit="event.preventDefault(); loginUser();">
                    <div class="form-group">
                        <!-- <label>ID</label> -->
                        <!--텍스트 박스-->
                        <input type="text" class="form-control" id="id" required placeholder="id">
                    </div>
                    <div class="form-group">
                        <!-- <label>Password</label> -->
                        <!--패스워드-->
                        <input type="password" class="form-control" id="password" required placeholder="password">
                    </div>
                    <!-- 추가된 부분: submit 버튼 대신 JavaScript 함수 호출 -->
                    <button type="button" onclick="loginUser()">Login</button>
                </form>
            </div>
            <!--회원가입-->
            <div class="card-footer text-muted">
                <a href="/register"> 관리자 회원가입하기 </a>
            </div>
        </div>
	</div>

</body>
</html>